<div class="timeline-container">
  <% if @presenter.timeline_pull_requests.empty? %>
    <div class="container pre-launch-container">
      <h2 class='title is-2'>You haven't made any pull requests yet.</h2>
      <%= link_to "Get started", details_path, anchor: "getting-started", class: "button" %>
    </div>
  <% else %>
    <h3 class="title is-3">Your contributions</h3><br/>
    <table class="table is-narrow is-full">
      <tbody>
      <% pull_requests.map do |pr| %>
        <tr>
          <td class="icon-block"><%= render partial: 'users/show/timeline/box', locals: {pr: pr, user: user} %></td>
          <td>
            <div>
              <div class="timeline-date">
                <%= render partial: 'users/show/timeline/box', locals: {pr: pr, user: user} %>
                <p><%= DateTime.parse(pr.created_at).to_formatted_s(:long) %><br/></p>
              </div>
              <h3 class="title is-3">
                You submitted <a href="<%= pr.url %>"><%= pr.title %></a> to <%= pr.name_with_owner %><br/>
              </h3>
            </div>
          </td>
          <% if pr.eligible? && user.waiting? %>
            <td>
              <div class="timeline-mature">
                <p>Mature in:</p>
                <span class="countdown"></span>
              </div>
            </td>
          <% end %>
        </tr>
      <% end %>
      <% if pull_requests.any? %>
        <script type="text/javascript">
            var elements = document.getElementsByClassName('countdown')
            var date = "<%= @presenter.user.waiting_since.httpdate %>"
            countdownTimers(elements, date)
        </script>
      <% end %>
      </tbody>
    </table>
  <% end %>
</div>
